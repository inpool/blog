<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset='utf-8'>
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <link rel="stylesheet" type="text/css" href="//www.inpool.xyz/theme/css/stylesheet.css" media="screen">
  <link rel="stylesheet" type="text/css" href="//www.inpool.xyz/theme/css/pygment.css" media="screen">
  <link rel="stylesheet" type="text/css" href="//www.inpool.xyz/theme/css/print.css" media="print">
  	<link href="//www.inpool.xyz/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="英银坡'S BLOG Atom Feed" />
		<link href="//www.inpool.xyz/feeds/tools.atom.xml" type="application/atom+xml" rel="alternate" title="英银坡'S BLOG Categories Atom Feed" />
  <!--[if lt IE 9]>
  <script src="//www.inpool.xyz/theme/js/html5.js"></script>
  <![endif]-->
  <title>python包管理系统——pip的设置 - 英银坡'S BLOG </title>
</head>
<body>
  <header>
    <div class="inner">
      <h1><a href="//www.inpool.xyz/index.html">英银坡'S BLOG</a></h1>
    </div>
  </header>
  <div id="content-wrapper">
    <div class="inner clearfix">
      <section id="main-content">
<article>
	<h1>python包管理系统——pip的设置</h1>
	<div class="article_info">
		<h6>
			<span>
				<a href="http://weibo.com/inpool" target="_blank">Inpool</a>
			</span>
			<span>
				2016-05-11 15:00
			</span>
				<span>
					分类：<a href="//www.inpool.xyz/category/tools.html">工具</a>
				</span>
		</h6>
			<h6>
				<span>标签：						<a href="//www.inpool.xyz/tag/pip.html" class="tag">pip</a>
						<a href="//www.inpool.xyz/tag/python.html" class="tag">python</a>
						<a href="//www.inpool.xyz/tag/package-management.html" class="tag">package management</a>
</span>
			</h6>
	</div>
	<p>pip是 <a class="reference external" href="https://www.pypa.io/en/latest/">pypa</a> 推荐的python包安装工具，作为包管理工具，就像debian的apt一样，应该都
可以自定义安装源，以加快包的下载速度。在pip中，我们也可以自定义她的安装源。</p>
<p>要定义pip的安装源，首先需要找到她的配置文件，pip配置文件的位置，在6.0版本 <a class="footnote-reference" href="#id2" id="id1">[1]</a>
以后和6.0版本以前有一些区别，支持的范围也有一定的区别。</p>
<table class="docutils footnote" frame="void" id="id2" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td>pip的6.0是一个比较大的更新，6.0的前一个版本不是5.0，而是1.5.6。</td></tr>
</tbody>
</table>
<div class="section" id="pip-6-0">
<h2>pip 6.0之后的版本</h2>
<div class="section" id="id3">
<h3>全局配置文件</h3>
<table border="1" class="docutils">
<colgroup>
<col width="18%" />
<col width="82%" />
</colgroup>
<tbody valign="top">
<tr><td>Unix/Linux/BSD</td>
<td><tt class="docutils literal">/etc/pip.conf</tt></td>
</tr>
<tr><td>MAC OS X</td>
<td><tt class="docutils literal">/Library/Application Support/pip/pip.conf</tt></td>
</tr>
<tr><td>Windows XP -</td>
<td><tt class="docutils literal"><span class="pre">C:\Documents</span> and Settings\All Users\Application Data\pip\pip.ini</tt></td>
</tr>
<tr><td>Windows 7 +</td>
<td><tt class="docutils literal"><span class="pre">C:\ProgramData\pip\pip.ini</span></tt></td>
</tr>
</tbody>
</table>
<div class="note">
<p class="first admonition-title">Note</p>
<p class="last">在Windows Vista中，不支持全局配置文件。</p>
</div>
</div>
<div class="section" id="id4">
<h3>用户配置文件</h3>
<table border="1" class="docutils">
<colgroup>
<col width="23%" />
<col width="77%" />
</colgroup>
<tbody valign="top">
<tr><td>Unix/Linux/BSD</td>
<td>$HOME/.config/pip/pip.conf</td>
</tr>
<tr><td>Mac OS X</td>
<td>$HOME/Library/Application Support/pip/pip.conf.</td>
</tr>
<tr><td>Windows</td>
<td>%APPDATA%pippip.ini.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id5">
<h3>虚拟环境配置文件</h3>
<table border="1" class="docutils">
<colgroup>
<col width="38%" />
<col width="62%" />
</colgroup>
<tbody valign="top">
<tr><td>Unix/Linux/BSD/Mac OS X</td>
<td>$VIRTUAL_ENV/pip.conf</td>
</tr>
<tr><td>Windows</td>
<td>%VIRTUAL_ENV%pip.ini</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id6">
<h3>读取配置文件的顺序</h3>
<ol class="arabic simple">
<li>读取全局配置文件</li>
<li>读取用户配置文件，并于全局配置文件合并，冲突的配置项以用户配置覆盖全局配置</li>
<li>读取虚拟环境配置文件，并于第2步的到的配置合并，冲突的配置以虚拟环境的配置为准</li>
</ol>
</div>
</div>
<div class="section" id="id7">
<h2>pip 6.0之前的版本</h2>
<p>pip 6.0之前的版本，原则上只支持用户配置文件：</p>
<table border="1" class="docutils">
<colgroup>
<col width="53%" />
<col width="47%" />
</colgroup>
<tbody valign="top">
<tr><td>Unix/Linux/BSD/Mac OS X</td>
<td>$HOME/.pip/pip.conf</td>
</tr>
<tr><td>Windows</td>
<td>%HOME%pippip.ini</td>
</tr>
</tbody>
</table>
<p>我们可以通过指定环境变量 <tt class="docutils literal">PIP_CONFIG_FILE</tt> 指定全局变量的文件名。pip 6.0之前
的版本只会读取一个配置文件。如果通过环境变量指定了，则默认位置的配置文件不会起
任何作用。</p>
</div>
<div class="section" id="id8">
<h2>配置选项</h2>
<p>pip的配置文件采用python的ini格式，针对每个pip的子命令的配置放在以子命令为名字的
配置段中，对所有命令起作用的配置放在 <tt class="docutils literal">global</tt> 段中。</p>
<p>配置选项为所有能在命令行中指定的选项，取长选项名(<tt class="docutils literal"><span class="pre">--</span></tt> 开头的)。例如，我要从阿
里云的镜像服务器安装pelican，用命令行的方式应该是:</p>
<pre class="literal-block">
$ pip install --index-url=http://mirrors.aliyun.com/pypi/simple --trusted-host=mirrors.aliyun.com pelican
</pre>
<p>因为pip 6.0以后默认值信任https连接，所以阿里云的镜像需要加上信任的选项。如果每次
安装一个包都要输入这么一大串东西，关键是要把这个网址记住，想想都难受。通过下面这
个配置文件，就可以解决了</p>
<div class="highlight"><pre><span></span><span class="k">[global]</span>
<span class="na">index-url</span> <span class="o">=</span> <span class="s">http://mirrors.aliyun.com/pypi/simple</span>
<span class="na">trusted-host</span> <span class="o">=</span> <span class="s">mirrors.aliyun.com</span>
</pre></div>
<p>现在要从阿里云的镜像上安装pelican，只需要简单的输入:</p>
<pre class="literal-block">
$ pip install pelican
</pre>
<p>现在安装一个包，下载速度以下提高了10几倍了。配合配置文件和download命令，在局域
网和离线的机器上，都可以用pip命令安装了。</p>
<p>更多的配置项就不一一列举了，可以通过下面的命令查询:</p>
<pre class="literal-block">
$ pip help [sub-command]
</pre>
</div>

	<div class="article_info">
		<h6>
			<span>
				<a href="http://weibo.com/inpool" target="_blank">Inpool</a>
			</span>
			<span>
				2016-05-11 15:00
			</span>
			<span>
					<a href="//www.inpool.xyz/tag/pip.html" class="tag">pip</a>
					<a href="//www.inpool.xyz/tag/python.html" class="tag">python</a>
					<a href="//www.inpool.xyz/tag/package-management.html" class="tag">package management</a>
			</span>
			<span>
					分类：<a href="//www.inpool.xyz/category/tools.html">工具</a>
			</span>
		</h6>
	</div>
</article>
<!-- duoshuo commet start -->
<div class="ds-thread" data-thread-key="/tools/configure-pip" data-title="python包管理系统——pip的设置" data-url="http://www.inpool.xyz/tools/configure-pip.html"></div>
<script type="text/javascript">
var duoshuoQuery = {short_name:"inpool"};
(function() {
	var ds = document.createElement('script'),
		protocol = document.location.protocol == 'https:' ? 'https:' : 'http:';
	ds.type = 'text/javascript';ds.async = true;
	ds.src = protocol + '//static.duoshuo.com/embed.js';
	ds.charset = 'UTF-8';
	(document.getElementsByTagName('head')[0]
	 || document.getElementsByTagName('body')[0]).appendChild(ds);
})();
</script>
<!-- duoshuo commet end -->
      </section>
      <aside id="sidebar">
        <div class="pannel">
          <h6>关于我</h6>
          <ul class="side-nav">
            <li><a href="http://weibo.com/inpool" target="_blank">微博</a></li>
            <li><a href="mailto:%69%6e%70%6f%6f%6c%40%31%32%36%2e%63%6f%6d" target="_blank">电子邮件</a></li>
          </ul>
        </div>
        <div class="pannel">
          <h6>分类</h6>
          <ul class="side-nav">
            <li><a href="//www.inpool.xyz/category/tools.html">工具 <sup>4</sup></a></li>
          </ul>
        </div>
        <div class="pannel">
          <h6>标签</h6>
          <ul class="side-nav">
            <li><a href="//www.inpool.xyz/tag/blog.html">blog <sup>2</sup></a></li>
            <li><a href="//www.inpool.xyz/tag/package-management.html">package management <sup>1</sup></a></li>
            <li><a href="//www.inpool.xyz/tag/pelican.html">pelican <sup>3</sup></a></li>
            <li><a href="//www.inpool.xyz/tag/pip.html">pip <sup>1</sup></a></li>
            <li><a href="//www.inpool.xyz/tag/python.html">python <sup>2</sup></a></li>
            <li><a href="//www.inpool.xyz/tag/restructuredtext.html">reStructuredText <sup>2</sup></a></li>
          </ul>
        </div>

      </aside>
    </div>
    <hr/>
    <footer>
      <p>
        Maintained by <a href="http://weibo.com/inpool">Inpool</a>.
        Servered on <a href="https://pages.github.com">GitHub Pages</a>.
        Generated by <a href="http://blog.getpelican.com">Pelican</a>.</p>
    </footer>
  </div>
	<script type="text/javascript">
	var _hmt = _hmt || [];
	(function() {
		var hm = document.createElement("script");
		hm.src = "//hm.baidu.com/hm.js?329c6533d3047434ebe7e3d28a05dae3";
		var s = document.getElementsByTagName("script")[0];
		s.parentNode.insertBefore(hm, s);
	})();
	</script>
</body>
</html>