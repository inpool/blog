~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Pelican(二) —— 文件元数据
~~~~~~~~~~~~~~~~~~~~~~~~~~~~

:date: 2016-05-03 20:51
:tags: pelican, blog, reStructuredText
:slug: pelican-meta-data
:summary: 元数据就是除了文章内容以外，对文章属性进行额外描述的数据，
          一般主要用于管理

基础
-----

元数据是除了文章内容以外，对文章属性进行额外描述的数据，一般情况下，Pelican支持以下元数据：

* 标题(Title)
* 发布时间(Date)
* 最后修改时间(Modified)
* 分类(Category)
* 标签(Tags)
* 标识(Slug)
* 作者(Author/Authors)
* 状态(Status)
* 摘要(Summary)

除了标题以外，其他的元数据都不是必须提供的，如果没有明确提供，Pelican会试图从其他方面猜测元数据的值。

在RST中，元数据的语法如下:

.. code-block:: RST

   这是标题
   ########

   :date: 2016-05-03 11:39
   :modified: 2016-05-03 11:40
   :category: 这是分类
   :tags: 这是标签, 另一个标签
   :authors: 作者, 另一个作者
   :summary: 这是摘要，对于比较长的摘要，
             可以另起一行并缩进

标题(title)
-----------

标题就是一个文档的标题，不同的标记语言标识标题的方法不同，在RST中，第一个并且唯一的title元素被认为是整个文章的标题。

发布时间(date)
--------------

该文章的发布时间，若没有提供，或明确提供为 ``'fs'`` ，Pelican会试图从文件的修改时间提取。
由于文件的修改时间可能会由于各种原因发生变化，最好手动指定。

.. note:: 我在windows 7下使用pelican 3.6.3，若不指定date，在转换为html文件时报错。

最后修改时间(modified)
----------------------

文档的最后修改时间。若不提供，则取发布时间的值，认为文章发布后没有修改过，并不在文章页面显示。

若在文章修改后添加修改时间，或改动修改时间，使其值比原值大，则pelican会自动更新feed。

分类(category)
---------------

表现为文章的分类。若不提供，则按照文章所在的文件夹分类，如果直接放在更目录，则为默认分类。默认分类可以在配置文件中指定。
若不指定，默认为misc。

标签(tags)
----------

表现为文章的标签。若不提供，则认为文章没有标签。

作者(author/authors)
--------------------

文章的作者。若不提供，在从配置文件中提取。

状态(status)
------------
可取值为：

========== ==============================================
取值       说明
========== ==============================================
hidden     不在页面显示该文章或页面
draft      作为草稿，不会在博客中出现任何链接到草稿的链接
published  正式发布状态。只有published状态的文章才会发布
========== ==============================================

摘要(summary)
--------------------

若不提供，则根据配置文件的设置 ``SUMMARY_MAX_LENGTH`` 对文章的内容进行截取获得。

从文件名取元数据
----------------

如果能严格的按照我们自己设计的规范命名源文件，则可以通过设置 ``FILENAME_METADATA`` 配置项，从
文件名中提取元数据。例如：文件名为 ``20160503_pelican-meta-data.rst`` ，我们将 ``FILENAME_METADATA``
设置为 ``'(?P<date>\d{4}-\d{2}-\d{2})_(?P<slug>.*)'`` ，则不需要在文章内按前面说的格式声明元数据
信息，pelican会自动获取到data为 ``'2016-05-03'`` ，而slug为 ``'pelican-meta-data'`` 。

采用这种方式时， ``FILENAME_METADATA`` 的设置方法为正则表达式，需要一定的学习。

